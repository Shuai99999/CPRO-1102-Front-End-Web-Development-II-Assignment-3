<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Happy Paw</title>
    <link rel="stylesheet" href="./jquery-ui-1.14.1.custom/jquery-ui.css" />
    <link rel="stylesheet" href="css/style.css" />
    <script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>
    <script src="./jquery-ui-1.14.1.custom/jquery-ui.min.js"></script>
    <!-- Configuration file (contains API keys) - must load before Google Maps API -->
    <script src="js/config.js"></script>
    <!-- Google Maps API - dynamically loaded using API key from config.js -->
    <script>
      // Dynamically load Google Maps API using key from config file
      (function () {
        const script = document.createElement("script");
        script.src = `https://maps.googleapis.com/maps/api/js?key=${GOOGLE_MAPS_API_KEY}&loading=async&libraries=places`;
        script.async = true;
        script.defer = true;
        script.onerror = function () {
          console.error("Failed to load Google Maps API");
        };
        document.head.appendChild(script);
      })();
    </script>
  </head>
  <body>
    <header>
      <h1>Happy Paw</h1>
      <p>Your pet’s happiness, our top priority!</p>
    </header>

    <!-- Services Section with Tabs -->
    <section id="services">
      <h2>Our Services</h2>
      <!-- Tabs for different services, the jQueryui tabs widget -->
      <div id="tabs">
        <ul>
          <li><a href="#tabs-1">Dog Walking</a></li>
          <li><a href="#tabs-2">Pet Grooming</a></li>
          <li><a href="#tabs-3">Veterinary</a></li>
        </ul>
        <div id="tabs-1">
          <img src="https://placedog.net/200/140?id=1" alt="Dog Walking" />
          <p>
            Professional dog walking service. Your dog will get exercise,
            socialization, and lots of fun!
          </p>
        </div>
        <div id="tabs-2">
          <img src="https://placedog.net/200/140?id=2" alt="Pet Grooming" />
          <p>
            Bathing, brushing, trimming, and nail care for your furry friend.
            Keep your pet clean and happy.
          </p>
        </div>
        <div id="tabs-3">
          <img src="https://placedog.net/200/140?id=3" alt="Pet Stay" />
          <p>
            Professional veterinary care for your pets. Regular check-ups,
            vaccinations, and health advice to keep your furry friends healthy.
          </p>
        </div>
      </div>
    </section>

    <!-- Testimonials Section -->
    <section id="testimonials">
      <h2>Testimonials</h2>
      <div class="testimonial">"Great service! My dog loves them!" - Alice</div>
      <div class="testimonial" style="display: none">
        "Professional and caring staff." - Bob
      </div>
      <div class="testimonial" style="display: none">
        "My cat was happy and comfortable!" - Carol
      </div>
    </section>

    <!-- Pricing & Service Selection Section with Accordion -->
    <section id="pricing">
      <h2>Pricing & Service Selection</h2>

      <div id="pricing-accordion">
        <!-- Dog Walking -->
        <h3>Dog Walking</h3>
        <div class="service-panel">
          <label for="dog-walking-duration">Duration:</label>
          <select id="dog-walking-duration">
            <option value="">--Select--</option>
            <option value="30">30 minutes</option>
            <option value="60">1 hour</option>
            <option value="90">1.5 hours</option>
            <option value="120">2 hours</option>
          </select>
          <label for="dog-walking-qty">Pets:</label>
          <input
            type="number"
            id="dog-walking-qty"
            min="1"
            value="1"
            style="width: 60px"
          />
          <p>Price: $<span id="dog-walking-price"></span></p>
          <label for="dog-walking-date">Select Date:</label>
          <input
            type="text"
            id="dog-walking-date"
            placeholder="Choose a date"
            readonly
          />
        </div>

        <!-- Pet Grooming -->
        <h3>Pet Grooming</h3>
        <div class="service-panel">
          <label for="pet-grooming-type">Type:</label>
          <select id="pet-grooming-type">
            <option value="">--Select--</option>
            <option value="basic">Basic Grooming</option>
            <option value="full">Full Grooming</option>
            <option value="deluxe">Deluxe Grooming</option>
          </select>
          <label for="pet-grooming-qty">Pets:</label>
          <input
            type="number"
            id="pet-grooming-qty"
            min="1"
            value="1"
            style="width: 60px"
          />
          <p>Price: $<span id="pet-grooming-price"></span></p>
          <label for="pet-grooming-date">Select Date:</label>
          <input
            type="text"
            id="pet-grooming-date"
            placeholder="Choose a date"
            readonly
          />
        </div>

        <!-- Veterinary -->
        <h3>Veterinary</h3>
        <div class="service-panel">
          <label for="veterinary-type">Service:</label>
          <select id="veterinary-type">
            <option value="">--Select--</option>
            <option value="checkup">Check-up</option>
            <option value="vaccination">Vaccination</option>
            <option value="surgery">Minor Surgery</option>
          </select>
          <label for="veterinary-qty">Pets:</label>
          <input
            type="number"
            id="veterinary-qty"
            min="1"
            value="1"
            style="width: 60px"
          />
          <p>Price: $<span id="veterinary-price"></span></p>
          <label for="veterinary-date">Select Date:</label>
          <input
            type="text"
            id="veterinary-date"
            placeholder="Choose a date"
            readonly
          />
        </div>
      </div>
    </section>

    <!-- Selected Services & Order Section -->
    <section id="selected-services">
      <h2>Selected Services</h2>
      <div class="order-container">
        <table
          id="services-table"
          border="1"
          style="width: 100%; border-collapse: collapse; text-align: center"
        >
          <thead>
            <tr>
              <th>Service</th>
              <th>Option / Duration</th>
              <th>Date</th>
              <th>Pets</th>
              <th>Unit Price</th>
              <th>Total Price</th>
              <th>Action</th>
            </tr>
          </thead>
          <tbody></tbody>
          <tfoot>
            <tr>
              <td colspan="5" style="text-align: right; font-weight: bold">
                Total:
              </td>
              <td id="grand-total">$0</td>
            </tr>
          </tfoot>
        </table>
        <button
          id="place-order"
          class="ui-button ui-corner-all ui-widget"
          style="margin-top: 15px; padding: 8px 16px; font-size: 16px"
        >
          Place Order
        </button>
      </div>

      <!-- Orders History Section -->
      <div id="orders-history" style="margin-top: 30px">
        <!-- History of placed orders will be appended here -->
      </div>
    </section>

    <!--Review Form-->
    <section id="reviews" title="Leave a review" style="display: none">
      <h2>Leave a Review</h2>
      <form id="review-form">
        <label for="reviewer-name">Name:</label>
        <input type="text" id="reviewer-name" required /><br /><br />
        <label for="review-text">Review:</label><br />
        <textarea id="review-text" rows="4" cols="50" required></textarea
        ><br /><br />

        <div id="star-rating">
          <span class="star" data-value="1">☆</span>
          <span class="star" data-value="2">☆</span>
          <span class="star" data-value="3">☆</span>
          <span class="star" data-value="4">☆</span>
          <span class="star" data-value="5">☆</span>
        </div>
      </form>
    </section>

    <!--Review Container-->
    <section id="review-container" style="display: none">
      <div id="reviews-list" style="margin-top: 20px">
        <!-- Submitted reviews will appear here -->
      </div>
    </section>

    <!-- Navigation Dialog Container -->
    <div id="navigation-dialog" style="display: none">
      <div
        id="map-container"
        style="width: 100%; height: 500px; margin-bottom: 10px"
      ></div>
      <div
        id="directions-panel"
        style="
          max-height: 200px;
          overflow-y: auto;
          background: #f5f5f5;
          padding: 10px;
          border-radius: 5px;
        "
      ></div>
    </div>

    <!-- Contact Section with Dialog -->
    <section id="contact">
      <button id="contact-btn" class="ui-button ui-corner-all ui-widget">
        Contact Us
      </button>
    </section>

    <div id="contactInfo" title="Contact Info" style="display: none">
      <p>Email: contact@happypaw.com</p>
      <p>Phone: +1 234 567 890</p>
    </div>

    <script src="js/script.js"></script>
  </body>
</html>
